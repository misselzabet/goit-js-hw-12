{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = '47057239-824e754b75c5fca36ae14ba66'; \nconst BASE_URL = 'https://pixabay.com/api/';\n\n\nexport async function fetchImages(query, page = 1) {\n  const perPage = 15;\n  const params = {\n    key: API_KEY,\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n    page,\n    per_page: perPage,\n  };\n\n  try {\n    const response = await axios.get(BASE_URL, { params });\n    return response.data;\n  } catch (error) {\n    console.error('Error fetching images:', error);\n    throw error;\n  }\n}\n","export function renderImages(images) {\n    const gallery = document.querySelector('.gallery');\n    const markup = images\n      .map(\n        ({ webformatURL, largeImageURL, tags, likes = 0, views = 0, comments = 0, downloads = 0 }) => `\n        <div class=\"photo-card\">\n          <a href=\"${largeImageURL}\" target=\"_blank\" rel=\"noopener noreferrer\">\n            <img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" />\n          </a>\n         <div class=\"info\">\n          <p class=\"info-item\"><b>Likes:</b> ${likes}</p>\n          <p class=\"info-item\"><b>Views:</b> ${views}</p>\n          <p class=\"info-item\"><b>Comments:</b> ${comments}</p>\n          <p class=\"info-item\"><b>Downloads:</b> ${downloads}</p>\n        </div>\n      </div>\n      `\n      )\n      .join('');\n    gallery.insertAdjacentHTML('beforeend', markup);\n  }\n  \n  export function clearGallery() {\n    const gallery = document.querySelector('.gallery');\n    gallery.innerHTML = '';\n  }\n  ","import { fetchImages } from './js/pixabay-api.js';\nimport { renderImages, clearGallery } from './js/render-functions.js';\n\nconst form = document.querySelector('#search-form');\nconst loadMoreButton = document.querySelector('.load-more');\nlet currentPage = 1;\nlet currentQuery = '';\n\nform.addEventListener('submit', onSearch);\nloadMoreButton.addEventListener('click', onLoadMore);\n\nasync function onSearch(event) {\n  event.preventDefault();\n  console.log('Форма надіслана');\n  clearGallery();\n  currentQuery = event.currentTarget.elements.query.value.trim();\n  if (!currentQuery) return;\n  currentPage = 1;\n  try {\n    const data = await fetchImages(currentQuery, currentPage);\n    if (data.hits.length === 0) {\n      alert('No images found. Please try a different query.');\n      loadMoreButton.classList.add('hidden');\n      return;\n    }\n    renderImages(data.hits);\n    loadMoreButton.classList.remove('hidden');\n  } catch (error) {\n    console.error(error);\n  }\n}\n\nasync function onLoadMore() {\n  currentPage += 1;\n  try {\n    const data = await fetchImages(currentQuery, currentPage);\n    renderImages(data.hits);\n\n    if (data.hits.length < 15 || data.totalHits <= currentPage * 15) {\n      loadMoreButton.classList.add('hidden');\n      alert(\"We're sorry, but you've reached the end of search results.\");\n    }\n  } catch (error) {\n    console.error(error);\n  }\n}\n"],"names":["API_KEY","BASE_URL","fetchImages","query","page","params","axios","error","renderImages","images","gallery","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","clearGallery","form","loadMoreButton","currentPage","currentQuery","onSearch","onLoadMore","event","data"],"mappings":"svBAEA,MAAMA,EAAU,qCACVC,EAAW,2BAGV,eAAeC,EAAYC,EAAOC,EAAO,EAAG,CAEjD,MAAMC,EAAS,CACb,IAAKL,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,KAAAC,EACA,SAAU,EACd,EAEE,GAAI,CAEF,OADiB,MAAME,EAAM,IAAIL,EAAU,CAAE,OAAAI,CAAM,CAAE,GACrC,IACjB,OAAQE,EAAO,CACd,cAAQ,MAAM,yBAA0BA,CAAK,EACvCA,CACP,CACH,CCzBO,SAASC,EAAaC,EAAQ,CACjC,MAAMC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAASF,EACZ,IACC,CAAC,CAAE,aAAAG,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAQ,EAAG,MAAAC,EAAQ,EAAG,SAAAC,EAAW,EAAG,UAAAC,EAAY,CAAG,IAAK;AAAA;AAAA,qBAEjFL,CAAa;AAAA,wBACVD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA,+CAGHC,CAAK;AAAA,+CACLC,CAAK;AAAA,kDACFC,CAAQ;AAAA,mDACPC,CAAS;AAAA;AAAA;AAAA,OAIrD,EACA,KAAK,EAAE,EACVR,EAAQ,mBAAmB,YAAaC,CAAM,CAC/C,CAEM,SAASQ,GAAe,CAC7B,MAAMT,EAAU,SAAS,cAAc,UAAU,EACjDA,EAAQ,UAAY,EACxB,CCtBA,MAAMU,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAiB,SAAS,cAAc,YAAY,EAC1D,IAAIC,EAAc,EACdC,EAAe,GAEnBH,EAAK,iBAAiB,SAAUI,CAAQ,EACxCH,EAAe,iBAAiB,QAASI,CAAU,EAEnD,eAAeD,EAASE,EAAO,CAK7B,GAJAA,EAAM,eAAc,EACpB,QAAQ,IAAI,iBAAiB,EAC7BP,IACAI,EAAeG,EAAM,cAAc,SAAS,MAAM,MAAM,OACpD,EAACH,EACL,CAAAD,EAAc,EACd,GAAI,CACF,MAAMK,EAAO,MAAMzB,EAAYqB,EAAcD,CAAW,EACxD,GAAIK,EAAK,KAAK,SAAW,EAAG,CAC1B,MAAM,gDAAgD,EACtDN,EAAe,UAAU,IAAI,QAAQ,EACrC,MACD,CACDb,EAAamB,EAAK,IAAI,EACtBN,EAAe,UAAU,OAAO,QAAQ,CACzC,OAAQd,EAAO,CACd,QAAQ,MAAMA,CAAK,CACpB,EACH,CAEA,eAAekB,GAAa,CAC1BH,GAAe,EACf,GAAI,CACF,MAAMK,EAAO,MAAMzB,EAAYqB,EAAcD,CAAW,EACxDd,EAAamB,EAAK,IAAI,GAElBA,EAAK,KAAK,OAAS,IAAMA,EAAK,WAAaL,EAAc,MAC3DD,EAAe,UAAU,IAAI,QAAQ,EACrC,MAAM,4DAA4D,EAErE,OAAQd,EAAO,CACd,QAAQ,MAAMA,CAAK,CACpB,CACH"}